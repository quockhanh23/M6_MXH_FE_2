<div class="backArrowDiv">
  <span matTooltip="Quay lại"
        [routerLink]="['/user/people-detail', user?.id]"
        class="backButton title material-icons a1 a2 backArrowSpan">keyboard_backspace</span>
</div>

<div style="margin-left: 5%; margin-right: 5%; ">
  <div class="row">
    <div class="col">
      <h2 style="margin-left: 2%" class="a2" *ngIf="idUserLogIn != user?.id">{{withUser}} {{user?.fullName}} </h2>
    </div>
    <div class="col" align="right" style="margin-right: 1%">
      <sub><span matTooltip="Đổi màu nền" style="color: pink" (click)="changeBackgroundColor1()"
                 class="a1 material-icons">radio_button_checked
      </span></sub>
      <sub><span matTooltip="Đổi màu nền" style="color: #afd9ee" (click)="changeBackgroundColor2()"
                 class="a1 material-icons">radio_button_checked
      </span></sub>
      <sub><span matTooltip="Đổi màu nền" style="color: #1deecf" (click)="changeBackgroundColor3()"
                 class="a1 material-icons">radio_button_checked
      </span></sub>
    </div>
  </div>
  <div class="col">
    <div style="{{border}}; border-radius: 5px">
      <div style="background-color: #5bc0de; border: #b2dba1 1px solid">
        <img *ngIf="idUserLogIn != conversation?.idReceiver?.id"
             class="imgFix" style="margin-left: 10px"
             src="{{conversation?.idReceiver?.avatar}}">
        <img *ngIf="idUserLogIn == conversation?.idReceiver?.id"
             class="imgFix" style="margin-left: 10px"
             src="{{conversation?.idSender?.avatar}}">
        <span style="color: red" class="material-icons">announcement</span>
      </div>
      <div style="border: #b2dba1 1px solid;{{background}}">
        <div id="scroll" #scrollMe [scrollTop]="scrollMe.scrollHeight" class="col">
          <div style="margin-top: 230px" align="center" *ngIf="count == 0">
            <img class="imgFix" src="{{conversation?.idReceiver?.avatar}}">
            <p style="font-size: 15px; margin-top: 10px">Friend Finder</p>
            <p style="font-size: 15px">Sống tại {{conversation?.idReceiver?.address}}</p>
          </div>
          <div *ngFor="let mes of messengers">
            <div class="row" *ngIf="idUserLogIn == mes?.idSender?.id">
              <div class="col-1">
                <img class="imgFix"
                     src="{{mes?.idSender?.avatar}}">
              </div>
              <div class="col-11">
                <h2 style="margin-top: 10px;">
                    <span
                      style="padding: 5px;border-radius: 12px;background-color: #e7e7e7; color: #3c3c3c">
                      &emsp;{{mes?.content}}&emsp;
                    </span>
                </h2>
              </div>
            </div>
            <div class="row" *ngIf="idUserLogIn != mes?.idSender?.id">
              <div class="col-11">
                <h2 align="right" style="margin-top: 10px;">
                      <span
                        style="padding: 5px;border-radius: 12px;background-color: #1c75bc; color: whitesmoke">&emsp;{{mes?.content}}&emsp;
                      </span>
                </h2>
              </div>
              <div class="col-1">
                <img align="right" class="imgFix"
                     src="{{mes?.idSender?.avatar}}">
              </div>
            </div>
          </div>
        </div>
        <div style="margin-top: 15px">
          <form [formGroup]="messengerForm"
                (ngSubmit)="createMessenger(conversation?.id)">
            <div class="row" style="margin-top: 20px">
              <div class="col-8">
                <input
                  style="width: 100% !important; height: 60px; font-size: 18px; margin-left: 5px; border: #c0a16b 1px solid"
                  onfocus="this.value=''" type="text"
                  class="form-control c1 i1" formControlName="content"
                  placeholder="Aa">
              </div>
              <div class="col-1">
                <sup>
                  <span matTooltip="Tải ảnh lên" style="font-size: 73px; color: #196d86"
                        class="a1 material-icons">image
                  </span>
                </sup>
              </div>
              <div class="col">
                <button
                  style="width: 96%; height: 60px; font-size: 18px" mat-raised-button color="accent"
                  type="summit">Gửi
                </button>
              </div>
            </div>
            <span style="margin-left: 10px">Tối đa 200 kí tự.</span>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
